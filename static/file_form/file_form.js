"use strict";function initUploadFields(e,l){var i=e.find("[name=csrfmiddlewaretoken]").val(),a=e.find("[name=upload_url]").val();if(a){var t=e.find("[name=delete_url]").val(),n=e.find("[name=form_id]").val();n?e.find(".file-uploader").each(function(e,d){var o=$(d),r=$(o.find("input[type=file]")),f=o.find(".file-uploader-container"),p=r.attr("name"),m=!!r.attr("multiple"),s={element:f,field_name:p,csrf_token:i,upload_url:a,delete_url:t,form_id:n,multiple:m};l&&$.extend(s,l),m||$(f).on("complete",function(){$(o.find(".existing-files")).remove()}),initFileUploader(s)}):console.warn("form_id field is empty; aborting initialization")}else console.warn("upload_url field is empty; aborting initialization")}function initFileUploader(e){var l=$(e.element),i={request:{endpoint:e.upload_url,params:{csrfmiddlewaretoken:e.csrf_token,field_name:e.field_name,form_id:e.form_id}},multiple:e.multiple,deleteFile:{enabled:!0,endpoint:e.delete_url,method:"POST",customHeaders:{"X-CSRFToken":e.csrf_token}},failedUploadTextDisplay:{maxChars:100,responseProperty:"error",enableTooltip:!0}};e.text&&(i.text=e.text),e.deleteFile&&$.extend(i.deleteFile,e.deleteFile),e.failedUploadTextDisplay&&$.extend(i.failedUploadTextDisplay,e.failedUploadTextDisplay),e.callbacks&&(i.callbacks=e.callbacks),e.template&&(i.template=e.template),e.validation&&(i.validation=e.validation),l.fineUploader(i);var a=l.data("files");a&&a.forEach(function(e){e.existing||l.fineUploader("addCannedFile",{uuid:e.id,name:e.name})})}